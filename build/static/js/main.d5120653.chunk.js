(this["webpackJsonpcounter-wallet"]=this["webpackJsonpcounter-wallet"]||[]).push([[0],{145:function(e,t){},225:function(e,t,n){},226:function(e,t,n){},229:function(e,t){},250:function(e,t){},252:function(e,t){},262:function(e,t){},264:function(e,t){},313:function(e,t){},314:function(e,t){},319:function(e,t){},321:function(e,t){},328:function(e,t){},347:function(e,t){},366:function(e,t){},405:function(e,t){},454:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(215),s=n.n(r),o=(n(225),n(226),n(48)),u=n(15),i=n(76),b=n(7),d=n.n(b),l=n(32),j=n(18),f=n(23),O=n(455),m=n(216),p=n(219),h=n(217),g=n(456),x=n(74),v=n(75),k=n(1),S={upload:{amount:[{amount:"2000000",denom:"uscrt"}],gas:"2000000"},init:{amount:[{amount:"500000",denom:"uscrt"}],gas:"500000"},exec:{amount:[{amount:"500000",denom:"uscrt"}],gas:"500000"},send:{amount:[{amount:"80000",denom:"uscrt"}],gas:"80000"}},w=function(){var e=Object(c.useState)(),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(),s=Object(j.a)(r,2),u=s[0],b=s[1],w=Object(c.useState)(""),y=Object(j.a)(w,2),C=y[0],I=y[1],N=Object(c.useState)({}),E=Object(j.a)(N,2),A=E[0],q=E[1],F=Object(c.useState)(!1),_=Object(j.a)(F,2),B=_[0],T=_[1],M=Object(c.useState)(""),P=Object(j.a)(M,2),J=P[0],R=P[1],H=Object(c.useState)(""),G=Object(j.a)(H,2),L=G[0],U=G[1],W=A||{accountNumber:"",balance:0,sequence:0},D=W.accountNumber,z=(W.balance,W.sequence);Object(c.useEffect)((function(){Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Secp256k1Pen.fromMnemonic("scrap network kiss canoe bird strategy fence anger way budget globe evidence will vibrant parade dream slogan around smart daughter buyer guess measure taste");case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(c.useEffect)((function(){if(u){var e=Object(f.encodeSecp256k1Pubkey)(u.pubkey),t=Object(f.pubkeyToAddress)(e,"secret");I(t)}}),[u]),Object(c.useEffect)((function(){if(u&&C){var e=f.EnigmaUtils.GenerateNewSeed(),t=new f.SigningCosmWasmClient("https://bootstrap.secrettestnet.io/",C,(function(e){return u.sign(e)}),e,S);a(t)}}),[u,C]),Object(c.useEffect)((function(){n&&Q()}),[n]);var K,Q=function(){var e=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return e.next=3,n.getAccount(C).then((function(e){return console.log(e),e})).catch((function(e){return console.error("request failed, re-try")}));case 3:t=e.sent,e.next=0;break;case 6:console.assert(t.address===C),q(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(d.a.mark((function e(){var t,c,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Creating a token"),T(!0),e.next=4,n.execute("secret19vc03hfsuqfsmt73c4fypg5au07lfngpcw2ytc",{mint_nft:{public_metadata:{name:"Secret Sauce",description:J}}});case 4:c=e.sent,console.log(c),a=JSON.parse(String.fromCharCode.apply(String,Object(i.a)(c.data))),console.log(a),r=null===a||void 0===a||null===(t=a.mint_nft)||void 0===t?void 0:t.token_id,U("/".concat(r)),R(""),T(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=u&&C&&z&&!B;return Object(k.jsx)("section",{children:Object(k.jsxs)(O.a,{children:[Object(k.jsxs)(m.a,{controlId:"address",children:[Object(k.jsx)(p.a,{children:"Address"}),Object(k.jsx)(h.a,{disabled:!0,value:C})]}),Object(k.jsxs)(m.a,{controlId:"accountNumber",children:[Object(k.jsx)(p.a,{children:"Account number"}),Object(k.jsx)(h.a,{disabled:!0,value:D})]}),L?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(m.a,{controlId:"tokenId",children:Object(k.jsx)(o.b,{as:"Button",to:L,children:"Reveal the secret"})})}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(m.a,{controlId:"message",children:[Object(k.jsx)(p.a,{children:"Message"}),Object(k.jsx)(h.a,{value:J,onChange:(K=R,function(e){var t=e.target.value;return K(t)})})]}),Object(k.jsx)(m.a,{controlId:"createTokenButton",children:Object(k.jsx)(g.a,{className:"create-token-button",disabled:!X,onClick:V,children:B?Object(k.jsx)(x.a,{icon:v.a,spin:!0}):"Create SHHH! token"})})]})]})})},y={upload:{amount:[{amount:"2000000",denom:"uscrt"}],gas:"2000000"},init:{amount:[{amount:"500000",denom:"uscrt"}],gas:"500000"},exec:{amount:[{amount:"500000",denom:"uscrt"}],gas:"500000"},send:{amount:[{amount:"80000",denom:"uscrt"}],gas:"80000"}},C=function(){var e=Object(u.f)().tokenId;console.log(e);var t=Object(c.useState)(),n=Object(j.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(),b=Object(j.a)(s,2),S=b[0],w=b[1],C=Object(c.useState)(""),I=Object(j.a)(C,2),N=I[0],E=I[1],A=Object(c.useState)({}),q=Object(j.a)(A,2),F=q[0],_=q[1],B=Object(c.useState)(!1),T=Object(j.a)(B,2),M=T[0],P=T[1],J=Object(c.useState)(""),R=Object(j.a)(J,2),H=R[0],G=R[1],L=F||{accountNumber:"",balance:0,sequence:0},U=(L.accountNumber,L.balance,L.sequence);Object(c.useEffect)((function(){Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Secp256k1Pen.fromMnemonic("scrap network kiss canoe bird strategy fence anger way budget globe evidence will vibrant parade dream slogan around smart daughter buyer guess measure taste");case 2:t=e.sent,w(t);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(c.useEffect)((function(){if(S){var e=Object(f.encodeSecp256k1Pubkey)(S.pubkey),t=Object(f.pubkeyToAddress)(e,"secret");E(t)}}),[S]),Object(c.useEffect)((function(){if(S&&N){var e=f.EnigmaUtils.GenerateNewSeed(),t=new f.SigningCosmWasmClient("https://bootstrap.secrettestnet.io/",N,(function(e){return S.sign(e)}),e,y);r(t)}}),[S,N]),Object(c.useEffect)((function(){a&&W()}),[a]);var W=function(){var e=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return e.next=3,a.getAccount(N).then((function(e){return console.log(e),e})).catch((function(e){return console.error("request failed, re-try")}));case 3:t=e.sent,e.next=0;break;case 6:console.assert(t.address===N),_(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var t=Object(l.a)(d.a.mark((function t(){var n,c,r,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Revealing secret message"),P(!0),t.next=4,a.execute("secret19vc03hfsuqfsmt73c4fypg5au07lfngpcw2ytc",{burn_nft:{token_id:e}});case 4:r=t.sent,console.log(r),s=JSON.parse(String.fromCharCode.apply(String,Object(i.a)(r.data))),console.log(s),G(null===s||void 0===s||null===(n=s.burn_nft)||void 0===n||null===(c=n.secret)||void 0===c?void 0:c.description),P(!1);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),z=S&&N&&U&&!M;return Object(k.jsx)("section",{children:Object(k.jsxs)(O.a,{children:[Object(k.jsxs)(m.a,{controlId:"address",children:[Object(k.jsx)(p.a,{children:"Address"}),Object(k.jsx)(h.a,{disabled:!0,value:N})]}),e&&!H&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(m.a,{controlId:"token_id",children:[Object(k.jsx)(p.a,{children:"Token Id"}),Object(k.jsx)(h.a,{disabled:!0,value:e})]}),Object(k.jsx)(m.a,{controlId:"burnToRevealButton",children:Object(k.jsx)(g.a,{className:"burn-to-reveal-button",disabled:!z,onClick:D,children:M?Object(k.jsx)(x.a,{icon:v.a,spin:!0}):"Burn to reveal"})})]}),H&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(m.a,{controlId:"revealedMessage",children:[Object(k.jsx)(p.a,{children:"Revealed Message"}),Object(k.jsx)(h.a,{value:H,disabled:!0})]}),Object(k.jsx)(o.b,{as:"Button",to:"/",children:"Send another secret"})]})]})})};var I=function(){return Object(k.jsx)(o.a,{children:Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)("header",{className:"App-header",children:"A simple app for the secret network"}),Object(k.jsxs)(u.c,{children:[Object(k.jsx)(u.a,{path:"/",exact:!0,children:Object(k.jsx)(w,{})}),Object(k.jsx)(u.a,{path:"/:tokenId",exact:!0,children:Object(k.jsx)(C,{})})]})]})})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,457)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(I,{})}),document.getElementById("root")),N()}},[[454,1,2]]]);
//# sourceMappingURL=main.d5120653.chunk.js.map
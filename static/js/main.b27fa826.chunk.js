(this["webpackJsonpcounter-wallet"]=this["webpackJsonpcounter-wallet"]||[]).push([[0],{146:function(e,t){},225:function(e,t,c){},226:function(e,t,c){},229:function(e,t){},250:function(e,t){},252:function(e,t){},262:function(e,t){},264:function(e,t){},313:function(e,t){},314:function(e,t){},319:function(e,t){},321:function(e,t){},328:function(e,t){},347:function(e,t){},366:function(e,t){},405:function(e,t){},454:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(216),r=c.n(s),o=(c(225),c(226),c(32)),i=c(15),u=c(76),l=c(7),j=c.n(l),d=c(33),b=c(18),O=c(23),f=c(455),m=c(218),h=c(220),x=c(219),g=c(456),p=c(74),v=c(75),k=c.p+"static/media/bee-showing-stinger.59123214.png",w=c.p+"static/media/bee-pointing-right.59e0329e.png",S=c(1),N={upload:{amount:[{amount:"2000000",denom:"uscrt"}],gas:"2000000"},init:{amount:[{amount:"500000",denom:"uscrt"}],gas:"500000"},exec:{amount:[{amount:"500000",denom:"uscrt"}],gas:"500000"},send:{amount:[{amount:"80000",denom:"uscrt"}],gas:"80000"}},y=function(){var e=Object(n.useState)(),t=Object(b.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(),r=Object(b.a)(s,2),i=r[0],l=r[1],y=Object(n.useState)(""),C=Object(b.a)(y,2),I=C[0],E=C[1],A=Object(n.useState)({}),T=Object(b.a)(A,2),q=T[0],F=T[1],_=Object(n.useState)(!1),B=Object(b.a)(_,2),M=B[0],P=B[1],z=Object(n.useState)(""),J=Object(b.a)(z,2),R=J[0],H=J[1],X=Object(n.useState)(""),G=Object(b.a)(X,2),L=G[0],U=G[1],W=q||{accountNumber:"",balance:0,sequence:0},D=W.accountNumber,Y=(W.balance,W.sequence);Object(n.useEffect)((function(){Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.Secp256k1Pen.fromMnemonic("scrap network kiss canoe bird strategy fence anger way budget globe evidence will vibrant parade dream slogan around smart daughter buyer guess measure taste");case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(n.useEffect)((function(){if(i){var e=Object(O.encodeSecp256k1Pubkey)(i.pubkey),t=Object(O.pubkeyToAddress)(e,"secret");E(t)}}),[i]),Object(n.useEffect)((function(){if(i&&I){var e=O.EnigmaUtils.GenerateNewSeed(),t=new O.SigningCosmWasmClient("https://bootstrap.secrettestnet.io/",I,(function(e){return i.sign(e)}),e,N);a(t)}}),[i,I]),Object(n.useEffect)((function(){c&&Q()}),[c]);var K,Q=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return e.next=3,c.getAccount(I).then((function(e){return console.log(e),e})).catch((function(e){return console.error("request failed, re-try")}));case 3:t=e.sent,e.next=0;break;case 6:console.assert(t.address===I),F(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n,a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Creating a token"),P(!0),e.next=4,c.execute("secret19vc03hfsuqfsmt73c4fypg5au07lfngpcw2ytc",{mint_nft:{public_metadata:{name:"Secret Sauce",description:R}}});case 4:n=e.sent,console.log(n),a=JSON.parse(String.fromCharCode.apply(String,Object(u.a)(n.data))),console.log(a),s=null===a||void 0===a||null===(t=a.mint_nft)||void 0===t?void 0:t.token_id,U("/".concat(s)),H(""),P(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=i&&I&&Y&&!M;return Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col",children:Object(S.jsx)("img",{src:w,className:"img-fluid"})}),Object(S.jsx)("div",{className:"col",children:L?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("h3",{children:"Your secret token is ready"}),Object(S.jsx)(o.b,{as:"Button",to:L,children:"Reveal the secret"})]}):Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(f.a,{children:[Object(S.jsxs)(m.a,{controlId:"address",children:[Object(S.jsx)(h.a,{children:"Address"}),Object(S.jsx)(x.a,{disabled:!0,value:I})]}),Object(S.jsxs)(m.a,{controlId:"accountNumber",children:[Object(S.jsx)(h.a,{children:"Account number"}),Object(S.jsx)(x.a,{disabled:!0,value:D})]}),Object(S.jsxs)(m.a,{controlId:"message",children:[Object(S.jsx)(h.a,{children:"Message"}),Object(S.jsx)(x.a,{as:"textarea",rows:3,value:R,onChange:(K=H,function(e){var t=e.target.value;return K(t)})})]}),Object(S.jsx)(m.a,{controlId:"createTokenButton",className:"text-center",children:Object(S.jsx)(g.a,{size:"lg",className:"create-token-button",disabled:!Z,onClick:V,children:M?Object(S.jsx)(p.a,{icon:v.a,spin:!0}):"Create SHHH! token"})})]})})}),Object(S.jsx)("div",{className:"col",children:Object(S.jsx)("img",{src:k,className:"img-fluid"})})]})},C=c.p+"static/media/bee-carrying.dedfdf2e.png",I={upload:{amount:[{amount:"2000000",denom:"uscrt"}],gas:"2000000"},init:{amount:[{amount:"500000",denom:"uscrt"}],gas:"500000"},exec:{amount:[{amount:"500000",denom:"uscrt"}],gas:"500000"},send:{amount:[{amount:"80000",denom:"uscrt"}],gas:"80000"}},E=function(){var e=Object(i.f)().tokenId;console.log(e);var t=Object(n.useState)(),c=Object(b.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(),l=Object(b.a)(r,2),k=l[0],w=l[1],N=Object(n.useState)(""),y=Object(b.a)(N,2),E=y[0],A=y[1],T=Object(n.useState)({}),q=Object(b.a)(T,2),F=q[0],_=q[1],B=Object(n.useState)(!1),M=Object(b.a)(B,2),P=M[0],z=M[1],J=Object(n.useState)(""),R=Object(b.a)(J,2),H=R[0],X=R[1],G=F||{accountNumber:"",balance:0,sequence:0},L=(G.accountNumber,G.balance,G.sequence);Object(n.useEffect)((function(){Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.Secp256k1Pen.fromMnemonic("scrap network kiss canoe bird strategy fence anger way budget globe evidence will vibrant parade dream slogan around smart daughter buyer guess measure taste");case 2:t=e.sent,w(t);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(n.useEffect)((function(){if(k){var e=Object(O.encodeSecp256k1Pubkey)(k.pubkey),t=Object(O.pubkeyToAddress)(e,"secret");A(t)}}),[k]),Object(n.useEffect)((function(){if(k&&E){var e=O.EnigmaUtils.GenerateNewSeed(),t=new O.SigningCosmWasmClient("https://bootstrap.secrettestnet.io/",E,(function(e){return k.sign(e)}),e,I);s(t)}}),[k,E]),Object(n.useEffect)((function(){a&&U()}),[a]);var U=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return e.next=3,a.getAccount(E).then((function(e){return console.log(e),e})).catch((function(e){return console.error("request failed, re-try")}));case 3:t=e.sent,e.next=0;break;case 6:console.assert(t.address===E),_(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var t=Object(d.a)(j.a.mark((function t(){var c,n,s,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Revealing secret message"),z(!0),t.next=4,a.execute("secret19vc03hfsuqfsmt73c4fypg5au07lfngpcw2ytc",{burn_nft:{token_id:e}});case 4:s=t.sent,console.log(s),r=JSON.parse(String.fromCharCode.apply(String,Object(u.a)(s.data))),console.log(r),X(null===r||void 0===r||null===(c=r.burn_nft)||void 0===c||null===(n=c.secret)||void 0===n?void 0:n.description),z(!1);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),D=k&&E&&L&&!P;return Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col"}),Object(S.jsxs)("div",{className:"col",children:[Object(S.jsxs)(f.a,{children:[Object(S.jsxs)(m.a,{controlId:"address",children:[Object(S.jsx)(h.a,{children:"Address"}),Object(S.jsx)(x.a,{disabled:!0,value:E})]}),e&&!H&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(m.a,{controlId:"token_id",children:[Object(S.jsx)(h.a,{children:"Token Id"}),Object(S.jsx)(x.a,{disabled:!0,value:e})]}),Object(S.jsx)(m.a,{controlId:"burnToRevealButton",children:Object(S.jsx)(g.a,{className:"burn-to-reveal-button",disabled:!D,onClick:W,children:P?Object(S.jsx)(p.a,{icon:v.a,spin:!0}):"Burn to reveal"})})]}),H&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(m.a,{controlId:"revealedMessage",children:[Object(S.jsx)(h.a,{children:"Revealed Message"}),Object(S.jsx)(x.a,{value:H,disabled:!0})]}),Object(S.jsx)(o.b,{as:"Button",to:"/",children:"Send another secret"})]})]}),Object(S.jsx)("img",{src:C,className:"img-fluid"})]}),Object(S.jsx)("div",{className:"col"})]})},A=function(){return Object(S.jsxs)("div",{className:"XXXcontainer welcome",children:[Object(S.jsx)("div",{className:"row mb-5",children:Object(S.jsx)("div",{className:"col",children:Object(S.jsx)(o.b,{to:"/new",children:Object(S.jsx)(g.a,{size:"lg",variant:"outline-primary",children:"Create Secret Message"})})})}),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsxs)("div",{className:"col-sm",children:[Object(S.jsx)("h1",{children:"Trustless"}),Object(S.jsx)("h1",{children:"Temporary"})]}),Object(S.jsx)("div",{className:"col-sm",children:Object(S.jsx)("img",{src:k,className:"img-fluid"})}),Object(S.jsxs)("div",{className:"col-sm",children:[Object(S.jsx)("h1",{children:"Secret"}),Object(S.jsx)("h1",{children:"Sharing"})]})]})]})};var T=function(){return Object(S.jsx)(o.a,{children:Object(S.jsxs)("div",{className:"App",children:[Object(S.jsxs)("header",{className:"App-header",children:[Object(S.jsx)("h1",{children:"Shhh.buzz"}),"A simple app for the secret network"]}),Object(S.jsxs)(i.c,{children:[Object(S.jsx)(i.a,{path:"/",exact:!0,children:Object(S.jsx)(A,{})}),Object(S.jsx)(i.a,{path:"/new",exact:!0,children:Object(S.jsx)(y,{})}),Object(S.jsx)(i.a,{path:"/:tokenId",exact:!0,children:Object(S.jsx)(E,{})})]})]})})},q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,457)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(T,{})}),document.getElementById("root")),q()}},[[454,1,2]]]);
//# sourceMappingURL=main.b27fa826.chunk.js.map
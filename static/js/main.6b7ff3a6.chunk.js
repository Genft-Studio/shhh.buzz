(this["webpackJsonpcounter-wallet"]=this["webpackJsonpcounter-wallet"]||[]).push([[0],{145:function(e,t){},226:function(e,t,n){},227:function(e,t,n){},235:function(e,t){},256:function(e,t){},258:function(e,t){},268:function(e,t){},270:function(e,t){},318:function(e,t){},319:function(e,t){},324:function(e,t){},326:function(e,t){},333:function(e,t){},352:function(e,t){},371:function(e,t){},410:function(e,t){},457:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(215),s=n.n(a),i=(n(226),n(227),n(27)),o=n(15),l=n(9),j=n.n(l),d=n(75),u=n(37),b=n(22),O=n(458),h=n(219),x=n(221),f=n(220),p=n(459),m=n(57),v=n(58),g=n(216),w=n.p+"static/media/bee-showing-stinger.59123214.png",S=n.p+"static/media/bee-pointing-right.59e0329e.png",N=n(217),k=n(1),C="holodeck-2",y={client:null,address:null},B=Object(c.createContext)(y),F=function(e){var t=e.children,n=Object(c.useState)(!1),r=Object(b.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)(),o=Object(b.a)(i,2),l=o[0],d=o[1],O=Object(c.useState)(),h=Object(b.a)(O,2),x=h[0],f=h[1];return Object(c.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.keplr){e.next=3;break}return s(!0),e.abrupt("return");case 3:if("complete"!==document.readyState){e.next=6;break}return s(!!window.keplr),e.abrupt("return");case 6:return e.abrupt("return",new Promise((function(e){document.addEventListener("readystatechange",(function e(t){var n;"complete"===(null===(n=t.target)||void 0===n?void 0:n.readyState)&&(s(!!window.keplr),document.removeEventListener("readystatechange",e))}))})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()})),Object(c.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){var t,n,c,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.keplr.enable(C);case 2:return t=window.getOfflineSigner(C),n=window.getEnigmaUtils(C),e.next=6,t.getAccounts();case 6:c=e.sent,r=c[0].address,f(r),a=new N.SigningCosmWasmClient("https://bootstrap.secrettestnet.io/",r,t,n),d(a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),Object(k.jsx)(B.Provider,{value:{client:l,address:x},children:t})},I=n(36),T=function(){var e,t=Object(c.useContext)(B).client,n=Object(c.useState)(!1),r=Object(b.a)(n,2),a=r[0],s=r[1],o=Object(c.useState)(""),l=Object(b.a)(o,2),N=l[0],C=l[1],y=Object(c.useState)(!1),F=Object(b.a)(y,2),T=F[0],_=F[1],E=Object(c.useState)(""),L=Object(b.a)(E,2),M=L[0],A=L[1],J=function(){var e=Object(u.a)(j.a.mark((function e(){var n,c,r,a,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),c=I.Random.getBytes(16).reduce((function(e,t){return e+t.toString(16).padStart(2,"0")}),""),e.next=4,t.execute(z,{mint_nft:{token_id:c,public_metadata:{description:N}}}).catch((function(e){return console.log(e)}));case 4:r=e.sent,a=JSON.parse(String.fromCharCode.apply(String,Object(d.a)(r.data))),i=null===a||void 0===a||null===(n=a.mint_nft)||void 0===n?void 0:n.token_id,A(i),C(""),s(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=t&&!a;return Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col",children:Object(k.jsx)("img",{src:S,className:"img-fluid"})}),Object(k.jsxs)("div",{className:"col",children:[P&&M&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h3",{children:"Your secret token is ready"}),Object(k.jsxs)("div",{children:[Object(k.jsx)(g.CopyToClipboard,{text:"".concat(window.location.origin,"/").concat(M),onCopy:function(e){return _(!0)},children:Object(k.jsxs)("span",{children:["".concat(window.location.origin,"/").concat(M),Object(k.jsx)(m.a,{className:"ml-1 mr-1",icon:v.a})]})}),T&&"copied",Object(k.jsx)("br",{})]}),Object(k.jsx)(i.b,{as:"Button",to:"/".concat(M),children:"Reveal the secret"})]}),P&&!M&&Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(O.a,{children:[Object(k.jsxs)(h.a,{controlId:"message",children:[Object(k.jsx)(x.a,{children:"Message"}),Object(k.jsx)(f.a,{as:"textarea",rows:3,value:N,onChange:(e=C,function(t){var n=t.target.value;return e(n)})})]}),Object(k.jsx)(h.a,{controlId:"createTokenButton",className:"text-center",children:Object(k.jsx)(p.a,{size:"lg",className:"create-token-button",disabled:!P,onClick:J,children:a?Object(k.jsx)(m.a,{icon:v.b,spin:!0}):"Create SHHH! token"})})]})}),!P&&Object(k.jsx)("div",{children:"Loading..."})]}),Object(k.jsx)("div",{className:"col",children:Object(k.jsx)("img",{src:w,className:"img-fluid"})})]})},_=n.p+"static/media/bee-carrying.dedfdf2e.png",E=function(){var e=Object(o.g)().tokenId,t=Object(c.useContext)(B).client,n=Object(o.f)(),r=Object(c.useState)(!1),a=Object(b.a)(r,2),s=a[0],l=a[1],g=Object(c.useState)(""),w=Object(b.a)(g,2),S=w[0],N=w[1],C=function(){var c=Object(u.a)(j.a.mark((function c(){return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:l(!0),t.execute(z,{burn_nft:{token_id:e}}).then((function(e){var t,n,c=JSON.parse(String.fromCharCode.apply(String,Object(d.a)(e.data)));N(null===c||void 0===c||null===(t=c.burn_nft)||void 0===t||null===(n=t.secret)||void 0===n?void 0:n.description),l(!1)})).catch((function(e){console.error(e),n.replace("/not-found")}));case 2:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}(),y=t&&!s;return Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col"}),Object(k.jsxs)("div",{className:"col",children:[Object(k.jsxs)(O.a,{children:[e&&!S&&Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(h.a,{controlId:"burnToRevealButton",children:Object(k.jsx)(p.a,{className:"burn-to-reveal-button",disabled:!y,onClick:C,children:s?Object(k.jsx)(m.a,{icon:v.b,spin:!0}):"Burn to reveal"})})}),S&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(h.a,{controlId:"revealedMessage",children:[Object(k.jsx)(x.a,{children:"Revealed Message"}),Object(k.jsx)(f.a,{value:S,disabled:!0})]}),Object(k.jsx)(i.b,{as:"Button",to:"/",children:"Send another secret"})]})]}),Object(k.jsx)("img",{src:_,className:"img-fluid"})]}),Object(k.jsx)("div",{className:"col"})]})},L=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{children:"That secret isn't available"}),Object(k.jsx)(i.b,{as:"Button",to:"/",children:"Create a new secret"})]})},M=function(){return Object(k.jsxs)("div",{className:"XXXcontainer welcome",children:[Object(k.jsx)("div",{className:"row mb-5",children:Object(k.jsx)("div",{className:"col",children:Object(k.jsx)(i.b,{to:"/new",children:Object(k.jsx)(p.a,{size:"lg",variant:"outline-primary",children:"Create Secret Message"})})})}),Object(k.jsxs)("div",{className:"row",children:[Object(k.jsxs)("div",{className:"col-sm",children:[Object(k.jsx)("h1",{children:"Trustless"}),Object(k.jsx)("h1",{children:"Temporary"})]}),Object(k.jsx)("div",{className:"col-sm",children:Object(k.jsx)("img",{src:w,className:"img-fluid"})}),Object(k.jsxs)("div",{className:"col-sm",children:[Object(k.jsx)("h1",{children:"Secret"}),Object(k.jsx)("h1",{children:"Sharing"})]})]})]})},z="secret19vc03hfsuqfsmt73c4fypg5au07lfngpcw2ytc";var A=function(){return Object(k.jsx)(F,{children:Object(k.jsx)(i.a,{children:Object(k.jsxs)("div",{className:"App",children:[Object(k.jsxs)("header",{className:"App-header",children:[Object(k.jsx)("h1",{children:"Shhh.buzz"}),"A simple app for the secret network"]}),Object(k.jsxs)(o.c,{children:[Object(k.jsx)(o.a,{path:"/",exact:!0,children:Object(k.jsx)(M,{})}),Object(k.jsx)(o.a,{path:"/new",exact:!0,children:Object(k.jsx)(T,{})}),Object(k.jsx)(o.a,{path:"/not-found",exact:!0,children:Object(k.jsx)(L,{})}),Object(k.jsx)(o.a,{path:"/:tokenId",exact:!0,children:Object(k.jsx)(E,{})})]})]})})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,460)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(A,{})}),document.getElementById("root")),J()}},[[457,1,2]]]);
//# sourceMappingURL=main.6b7ff3a6.chunk.js.map